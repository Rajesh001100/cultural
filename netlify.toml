[build]
  publish = "public"
  functions = "netlify/functions"

# Redirect /api/* calls to /.netlify/functions/* for cleaner URLs
[[redirects]]
  from = "/api/events"
  to = "/.netlify/functions/events"
  status = 200

[[redirects]]
  from = "/api/register"
  to = "/.netlify/functions/register"
  status = 200

[[redirects]]
  from = "/api/create-order"
  to = "/.netlify/functions/create-order"
  status = 200

[[redirects]]
  from = "/api/verify-payment"
  to = "/.netlify/functions/verify-payment"
  status = 200

[[redirects]]
  from = "/api/admin/login"
  to = "/.netlify/functions/admin-login"
  status = 200

[[redirects]]
  from = "/api/admin/registrations"
  to = "/.netlify/functions/admin-registrations"
  status = 200

[[redirects]]
  from = "/api/admin/events"
  to = "/.netlify/functions/admin-events"
  status = 200

[[redirects]]
  from = "/api/admin/events/*"
  to = "/.netlify/functions/admin-events"
  status = 200

[[redirects]]
  from = "/api/contact"
  to = "/.netlify/functions/contact"
  status = 200

[[redirects]]
  from = "/api/config"
  to = "/.netlify/functions/config"
  status = 200

# SPA fallback - serve index.html for all unmatched routes
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
